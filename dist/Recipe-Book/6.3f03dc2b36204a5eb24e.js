(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(e,o,n){"use strict";n.r(o),n.d(o,"AuthModule",(function(){return v}));var t=n("VYMa"),i=n("/iaH"),s=n("fXoL"),r=n("qXBG"),c=n("tyNb"),a=n("ofXK"),b=n("zy28"),l=n("3Pt+");function d(e,o){}function u(e,o){1&e&&(s.Kb(0,"div",5),s.Ib(1,"app-loading-spinner"),s.Jb())}function g(e,o){1&e&&s.Ib(0,"span",18)}function p(e,o){1&e&&s.Ib(0,"span",18)}function h(e,o){if(1&e){const e=s.Lb();s.Kb(0,"form",6,7),s.Rb("ngSubmit",(function(){s.ec(e);const o=s.cc(1);return s.Vb().onSubmit(o)})),s.Kb(2,"div",8),s.Kb(3,"label",9),s.kc(4,"E-mail"),s.Jb(),s.Ib(5,"input",10,11),s.jc(7,g,1,0,"span",12),s.Jb(),s.Kb(8,"div",8),s.Kb(9,"label",13),s.kc(10,"Password"),s.Jb(),s.Ib(11,"input",14,15),s.jc(13,p,1,0,"span",12),s.Jb(),s.Kb(14,"div"),s.Kb(15,"button",16),s.kc(16),s.Jb(),s.kc(17,"\xa0 "),s.Kb(18,"button",17),s.Rb("click",(function(){return s.ec(e),s.Vb().onSwitchMode()})),s.kc(19),s.Jb(),s.Jb(),s.Jb()}if(2&e){const e=s.cc(1),o=s.cc(6),n=s.cc(12),t=s.Vb();s.xb(7),s.Yb("ngIf",!o.valid&&o.touched),s.xb(6),s.Yb("ngIf",!n.valid&&n.touched),s.xb(2),s.Yb("disabled",!e.valid),s.xb(1),s.mc(" ",t.isLoginMode?"Login":"Sign Up"," "),s.xb(3),s.mc(" Switch to ",t.isLoginMode?"Sign Up":"Login"," ")}}let f=(()=>{class e{constructor(e,o,n){this.authService=e,this.router=o,this.componentFactoryResolver=n,this.isLoginMode=!0,this.isLoading=!1,this.error=null}ngOnInit(){}onSwitchMode(){this.isLoginMode=!this.isLoginMode}ngOnDestroy(){this.closeSub&&this.closeSub.unsubscribe()}onSubmit(e){if(!e.valid)return;const o=e.value.email,n=e.value.password;let t;this.isLoading=!0,t=this.isLoginMode?this.authService.login(o,n):this.authService.signup(o,n),t.subscribe(e=>{console.log(e),this.isLoading=!1,this.router.navigate(["/recipes"])},e=>{console.log(e),this.error=e,this.showErrorAlert(e),this.isLoading=!1}),e.reset()}onHandleError(){this.error=null}showErrorAlert(e){const o=this.componentFactoryResolver.resolveComponentFactory(t.a),n=this.alertHost.viewContainerRef;n.clear();const i=n.createComponent(o);i.instance.message=e,this.closeSub=i.instance.close.subscribe(()=>{this.closeSub.unsubscribe(),n.clear()})}}return e.\u0275fac=function(o){return new(o||e)(s.Hb(r.a),s.Hb(c.c),s.Hb(s.j))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-auth"]],viewQuery:function(e,o){var n;1&e&&s.oc(i.a,!0),2&e&&s.bc(n=s.Sb())&&(o.alertHost=n.first)},decls:5,vars:2,consts:[["appPlaceholder",""],[1,"row"],[1,"col-xs-12","col-md-5","col-md-offset-3"],["style","text-align: center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group","has-feedback"],["for","email",1,"control-label"],["type","email","id","email","name","email","required","","email","","ngModel","","aria-describedby","emailStatus",1,"form-control"],["email","ngModel"],["class","glyphicon glyphicon-remove form-control-feedback text-danger","aria-hidden","true",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","","ngModel","","minlength","6",1,"form-control"],["password","ngModel"],["type","submit",1,"btn","btn-default",3,"disabled"],["type","button",1,"btn","btn-default",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-remove","form-control-feedback","text-danger"]],template:function(e,o){1&e&&(s.jc(0,d,0,0,"ng-template",0),s.Kb(1,"div",1),s.Kb(2,"div",2),s.jc(3,u,2,0,"div",3),s.jc(4,h,20,5,"form",4),s.Jb(),s.Jb()),2&e&&(s.xb(3),s.Yb("ngIf",o.isLoading),s.xb(1),s.Yb("ngIf",!o.isLoading))},directives:[i.a,a.t,b.a,l.E,l.q,l.r,l.c,l.z,l.d,l.p,l.s,l.o],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1.6px solid maroon}"]}),e})();var m=n("PCNd");let v=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(o){return new(o||e)},imports:[[a.c,l.m,c.g.forChild([{path:"",component:f}]),m.a]]}),e})()}}]);